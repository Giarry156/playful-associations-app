<nav id="heading-navbar">
    <div class="navbar-search">
        <svg id="Livello_1" data-name="Livello 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 881 301">
            <defs>
                <style>.cls-1 {
                        fill: #0090ff;
                    }</style>
            </defs>
            <g id="Livello_2" data-name="Livello 2">
                <g id="Layer_1" data-name="Layer 1">
                    <path class="cls-1"
                          d="M850.6,84.9v17.4a81.11,81.11,0,1,0,0,126.7v17.4h30.3L881,78ZM800.1,216.2a50.55,50.55,0,1,1,50.5-50.6h0A50.51,50.51,0,0,1,800.1,216.2Z"/>
                    <path class="cls-1"
                          d="M363.5,161.9l-32.7,18.8A50.54,50.54,0,0,1,267.5,214a51.3,51.3,0,0,1-20.2-12l98.6-56.7h0l12.8-7.4A81.26,81.26,0,0,0,254.6,89.5c-42.1,15.3-63.7,62-48.4,104.1s62,63.7,104.1,48.4a81.12,81.12,0,0,0,53.3-76.2C363.6,164.4,363.6,163.1,363.5,161.9Zm-81-46.8a50.51,50.51,0,0,1,33,12.3L232.8,175a50.57,50.57,0,0,1,49.7-59.9Z"/>
                    <path class="cls-1"
                          d="M708.5,125.6V78l-30.3,6.9v17.4a73.44,73.44,0,0,0-8.6-6v-.1a80.68,80.68,0,0,0-41.7-11.6h-1.5c-1,0-2,0-3,.1a17.85,17.85,0,0,0-2.3.2c-.8.1-1.3.1-2,.2a1.7,1.7,0,0,0-.7.1h0a81.09,81.09,0,1,0,59,144.7A50.55,50.55,0,0,1,585.8,248l-26.4,15.4a80.86,80.86,0,0,0,149.2-43.5Zm-30.3,43.3A51,51,0,1,1,667.7,135h.2a50.68,50.68,0,0,1,10.3,27.4Z"/>
                    <path class="cls-1"
                          d="M536.2,161.9l-32.8,18.8a50.48,50.48,0,0,1-63.3,33.2,49.12,49.12,0,0,1-20.1-12l98.6-56.7h0l12.8-7.4A81.26,81.26,0,0,0,427.3,89.4c-42.1,15.3-63.7,62-48.4,104.1a81.16,81.16,0,0,0,157.4-27.8C536.3,164.4,536.2,163.1,536.2,161.9Zm-81-46.8a50.51,50.51,0,0,1,33,12.3L405.5,175a50.57,50.57,0,0,1,49.7-59.9Z"/>
                    <path class="cls-1"
                          d="M99.9,219.7,85.6,179A98,98,0,0,0,76,194L32.5,70.9H0L62.6,246.8H92.8A57,57,0,0,1,99.9,219.7Z"/>
                    <path class="cls-1"
                          d="M148.8,159.8c-6.1,12.8-12,25.3-17,37.2L91.1,84.6H58.6l58.7,162.3h31.4c.8-17.4,14.4-46.2,27.6-74,14.6-30.7,28.4-59.6,30.4-82.9,1.8-20.3-5-39.7-19.9-55.9C167.7,13.1,136.8,0,106.3,0h-2.2A104.31,104.31,0,0,0,63.6,8.2L75.5,36.4a74.2,74.2,0,0,1,28.6-5.8h3c21.6.2,44,9.7,57.2,24.2,6.2,6.8,13.3,17.9,12,32.5C174.8,105.1,161.5,132.9,148.8,159.8Z"/>
                </g>
            </g>
        </svg>
        <div class="navbar-search-input-container">
            <svg data-name="Livello 1" class="cls-1" viewBox="0 0 115 115" width="18" height="19" fill="#41ACFF"
                 id="Livello_1">
                <path d="M49.86 18.64v6c13.91 0 25.22 11.32 25.22 25.22h6c0-17.22-14.01-31.22-31.22-31.22z"></path>
                <path
                    d="M109.41 102.33L85.46 78.52c6.92-8.58 10.81-19.68 10.03-31.7-1.45-22.31-19.2-40.53-41.47-42.51C25.54 1.78 1.77 25.54 4.31 54.03 6.29 76.27 24.46 94 46.73 95.49c11.98.8 23.07-3.05 31.65-9.91l23.98 23.84a4.994 4.994 0 007.07-.02 4.994 4.994 0 00-.02-7.07zM10.12 49.86c0-21.91 17.83-39.73 39.74-39.73s39.73 17.83 39.73 39.73-17.83 39.73-39.73 39.73-39.74-17.82-39.74-39.73z"></path>
            </svg>
            <input type="text" placeholder="Cerca per titolo, autore o editore">
        </div>
    </div>
    <div class="navbar-options">
        <div class="navbar-option">
            <svg data-name="Livello 1" width="23" height="23" viewBox="0 0 115 115" class="cls-1 text-neutral-800"
                 fill="currentColor" id="Livello_1">
                <path
                    d="M13.35,104.43c-1.48,0-2.93-.59-4-1.67-1.43-1.44-1.97-3.55-1.41-5.5l4.08-14.27c.71-2.74.69-5.72-.08-8.52l-5.32-19.48C.52,32.62,13.76,9.46,36.12,3.35c10.84-2.96,22.17-1.52,31.93,4.05,9.75,5.57,16.75,14.61,19.71,25.44l5.32,19.48c.76,2.81,2.26,5.38,4.32,7.43l10.71,10.17c1.47,1.4,2.08,3.49,1.58,5.45-.5,1.97-2.02,3.52-3.97,4.06L14.83,104.24c-.49.13-.98.2-1.48.2ZM47.25,7.85c-3.19,0-6.39.43-9.55,1.29C18.53,14.37,7.18,34.23,12.42,53.41l5.32,19.48c1.04,3.81,1.07,7.85.08,11.68l-3.92,13.71,89.6-24.46-10.29-9.76c-2.85-2.85-4.88-6.34-5.92-10.15l-5.32-19.48c-2.54-9.29-8.54-17.04-16.9-21.81-5.52-3.15-11.63-4.76-17.82-4.76ZM104.14,73.64s0,0,0,0h0Z"></path>
                <path
                    d="M82.62,113.15c-6.78,0-13.01-4.51-14.88-11.36h0c-.81-2.97.95-6.04,3.91-6.85l19-5.19c1.44-.39,2.94-.2,4.23.54s2.22,1.94,2.61,3.37c1.08,3.97.56,8.13-1.49,11.71-2.04,3.58-5.36,6.14-9.33,7.23-1.35.37-2.72.55-4.06.55ZM73.65,100.62c1.53,4.76,6.58,7.53,11.45,6.2,2.43-.66,4.45-2.23,5.7-4.42,1.18-2.06,1.53-4.44,1.01-6.74l-18.16,4.96ZM73.53,100.21h0Z"></path>
                <path
                    d="M20.5,51.09c-1.93-7.08-.99-14.49,2.65-20.86s9.54-10.95,16.62-12.88l1.58,5.79c-5.53,1.51-10.15,5.08-12.99,10.07s-3.58,10.77-2.07,16.3l-5.79,1.58Z"></path>
            </svg>
            <span>GA</span>
        </div>
        <div class="navbar-option">
            <svg data-name="Livello 1" width="23" height="23" viewBox="0 0 115 115" class="text-neutral-800"
                 fill="currentColor" id="Livello_1">
                <path
                    d="M87.75 50.69c7.05-4.5 11.63-12.39 11.63-21.12 0-13.8-11.23-25.02-25.02-25.02-6.29 0-12.26 2.35-16.84 6.53a24.956 24.956 0 00-16.87-6.53c-13.8 0-25.02 11.23-25.02 25.02 0 8.73 4.58 16.62 11.63 21.12-14.52 5.11-24.9 19.04-24.9 35.05 0 5.35 4.36 9.71 9.71 9.71h7.49c-.25 1.73-.38 3.5-.38 5.29 0 5.35 4.36 9.71 9.71 9.71h57.25c5.35 0 9.71-4.35 9.71-9.71 0-1.8-.14-3.56-.38-5.29h7.49c5.35 0 9.71-4.35 9.71-9.71 0-16.01-10.38-29.94-24.9-35.05zm5.63-21.12c0 7.46-4.4 14.12-10.92 17.2.06-.73.1-1.46.1-2.2 0-11.59-7.93-21.37-18.65-24.2a25.52 25.52 0 00-2.49-4.75c3.5-3.25 8.1-5.08 12.93-5.08 10.49 0 19.02 8.53 19.02 19.02zM57.54 63.6c-10.49 0-19.02-8.53-19.02-19.02s8.53-19.02 19.02-19.02 19.02 8.53 19.02 19.02S68.03 63.6 57.54 63.6zM21.62 29.57c0-10.49 8.53-19.02 19.02-19.02 6.74 0 12.79 3.49 16.19 9.02-13.48.37-24.32 11.44-24.32 25.01 0 .75.04 1.5.1 2.23-6.56-3.07-11-9.74-11-17.24zm-9.56 59.88c-2.04 0-3.71-1.66-3.71-3.71 0-15.39 11.44-28.49 26.43-30.78 2.02 4.4 5.27 8.12 9.32 10.71-10.98 3.83-19.62 12.68-23.18 23.78h-8.87zm74.06 15H28.88c-2.04 0-3.71-1.66-3.71-3.71 0-17.17 13.97-31.15 31.15-31.15h2.37c17.17 0 31.15 13.97 31.15 31.15 0 2.04-1.66 3.71-3.71 3.71zm16.82-15h-8.87C90.52 78.36 81.9 69.53 70.94 65.69c4.06-2.59 7.32-6.31 9.34-10.71 14.96 2.32 26.36 15.4 26.36 30.77 0 2.04-1.66 3.71-3.71 3.71z"
                    fill="currentColor" stroke-width="0"></path>
            </svg>
            <span>Community</span>
        </div>
        <div class="navbar-option">
            <svg data-name="Livello 1" class="cls-1 text-neutral-800" width="23" height="23" fill="currentColor"
                 viewBox="0 0 115 115" id="Livello_1">
                <path
                    d="M106.73 54.84a5.948 5.948 0 00-3.69-5.15L77.09 38.96a4.729 4.729 0 01-2.83-3.41L68.47 8.08c-.47-2.25-2.15-4-4.38-4.57-2.24-.57-4.54.17-6.03 1.92L45.53 20.11c-1.11 1.3-.95 3.25.35 4.36 1.3 1.11 3.25.95 4.36-.35L62.51 9.74l5.71 27.09c.74 3.53 3.18 6.46 6.51 7.84l25.58 10.58-24 13.8c-3.13 1.8-5.17 5.02-5.45 8.62l-2.16 27.6-16.73-15.11a20.654 20.654 0 00-18.7-4.76l-21.92 5.27L22.66 65.4c1.47-3.29 1.23-7.1-.66-10.18L7.34 31.29a3.095 3.095 0 00-4.25-1.02c-1.46.89-1.91 2.8-1.02 4.25l14.68 23.93c.82 1.34.93 2.99.29 4.42L5.58 88.5c-.94 2.1-.61 4.5.86 6.27s3.77 2.53 6.01 2l22.3-5.36c4.66-1.12 9.56.13 13.11 3.34l17.02 15.38a5.95 5.95 0 006.23 1.12c2.14-.85 3.58-2.8 3.76-5.1l2.19-27.99a4.749 4.749 0 012.36-3.74l24.34-13.99c2-1.15 3.14-3.29 2.99-5.58z"></path>
                <path
                    d="M112.25 89.06l-3.41.39c-5.73.65-11.15-2.74-13.07-8.17l-1.15-3.24c-.41-1.15-2.13-.76-1.99.46l.39 3.41c.65 5.73-2.74 11.15-8.17 13.07l-3.24 1.15c-1.15.41-.76 2.13.46 1.99l3.41-.39c5.73-.65 11.15 2.74 13.07 8.17l1.15 3.24c.41 1.15 2.13.76 1.99-.46l-.39-3.41a12.382 12.382 0 018.17-13.07l3.24-1.15c1.15-.41.76-2.13-.46-1.99zM8.46 24.95l3.41-.39c5.73-.65 11.15 2.74 13.07 8.17l1.15 3.24c.41 1.15 2.13.76 1.99-.46l-.39-3.41a12.382 12.382 0 018.17-13.07l3.24-1.15c1.15-.41.76-2.13-.46-1.99l-3.41.39c-5.73.65-11.15-2.74-13.07-8.17l-1.15-3.24c-.41-1.15-2.13-.76-1.99.46l.39 3.41c.65 5.73-2.74 11.15-8.17 13.07L8 22.96c-1.15.41-.76 2.13.46 1.99z"></path>
            </svg>
            <span>Seguiti</span>
        </div>
    </div>
    <div class="navbar-avatar">
        <figure id="user-avatar">
            <img
                src="https://weega-production.fra1.digitaloceanspaces.com/users/34.jpg
                "
                alt="Avatar">
        </figure>
        <div class="navbar-user-options hidden">
            <div class="navbar-user-welcome-bar">
                <span>Ciao, Fabrizio Romanelli</span>
                <button>Il mio profilo</button>
            </div>
            <div class="navbar-user-notifications">
                @for($index = 0; $index < 10; $index++)
                    <x-weega-user-notification
                        notificationType="{{array('advice', 'expiration', 'order')[rand(0, 2)]}}"
                        notificationTitle="Il tuo abbonamento scade tra 3 giorni."
                    ></x-weega-user-notification>
                @endfor
            </div>
        </div>
    </div>
</nav>

<script>
    const userOptions = document.querySelector('.navbar-user-options');

    function toggleUserOptions() {
        userOptions.classList.toggle('hidden');
    }

    const avatar = document.getElementById('user-avatar');
    avatar.addEventListener('click', toggleUserOptions);
    window.addEventListener('mouseup', (e) => {
        if (!userOptions.contains(e.target) && !avatar.contains(e.target)) {
            userOptions.classList.add('hidden');
        }
    });

    const headingNavbar = document.getElementById('heading-navbar');
    const navbarSearch = headingNavbar.querySelector('.navbar-search-input-container');
    const navbarSearchInput = headingNavbar.querySelector('.navbar-search input');

    navbarSearch.addEventListener('click', () => {
        navbarSearchInput.focus();
        headingNavbar.classList.add('navbar-mobile-search-focus');
    });

    navbarSearchInput.addEventListener('focusout', () => {
        headingNavbar.classList.remove('navbar-mobile-search-focus');
    });
</script>
